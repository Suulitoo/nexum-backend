<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NEXUM Boutique</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">

<style>
/* BODY + VIDEO BACKGROUND */
body {
    margin:0;
    font-family:'Orbitron',sans-serif;
    min-height:100vh;
    color:white;
    display:flex;
    flex-direction:column;
    position: relative;
    overflow-y: auto;
}

/* Video en background */
.video-bg {
    position: fixed;
    top:0; left:0;
    width:100%; height:100%;
    z-index:-2;
}
.video-bg video {
    width:100%; height:100%;
    object-fit: cover;
}
.video-bg::after {
    content:"";
    position:absolute;
    inset:0;
    background: rgba(0,0,0,0.65);
    z-index:-1;
}

/* HEADER / FOOTER / CONTENT */
header {
    background:linear-gradient(90deg,#0b0b0b,#1a0000,#0b0b0b);
    padding:40px 20px;
    text-align:center;
    border-bottom:2px solid #f70b0b;
    position: relative; z-index:1;
}
header h1 {
    font-size:3rem;
    margin:0;
    background:linear-gradient(90deg,#ffffff,#f70b0b);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
}
header p {font-size:1.2rem; margin-top:10px;}
main {flex:1; padding:20px; position: relative; z-index:1;}
.container {
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
    gap:20px;
}
.card {
    background:#111;
    border:2px solid #f70b0b;
    border-radius:15px;
    padding:20px;
    text-align:center;
}
.card h2 { color:#f70b0b; }
.card button {
    margin-top:10px;
    padding:8px 15px;
    border:none;
    border-radius:8px;
    background:#f70b0b;
    color:white;
    font-weight:bold;
    cursor:pointer;
}
.card button:hover {background:#ff0b0b; box-shadow:0 0 10px #ff0b0b;}
.cart {
    background:#111;
    border:2px solid #f70b0b;
    border-radius:15px;
    padding:20px;
    max-width:400px;
    margin:30px auto;
    position: relative; z-index:1;
}
.cart ul {list-style:none; padding:0;}
.cart li {display:flex; justify-content:space-between; margin-bottom:10px;}
footer {
    text-align:center;
    padding:20px;
    border-top:2px solid #f70b0b;
    position: relative; z-index:1;
}

/* Bouton PayPal Ami Proche ‚Äì style am√©lior√© */
#paypal-friend-btn {
    padding: 18px 50px;
    font-size: 1.35rem;
    font-weight: bold;
    border-radius: 15px;
    border: none;
    background: linear-gradient(90deg, #003087, #009cde);
    color: white;
    cursor: pointer;
    box-shadow: 0 0 25px rgba(0, 156, 222, 0.7);
    transition: all 0.3s ease;
    display: block;
    margin: 25px auto;
    width: 90%;
    max-width: 320px;
}
#paypal-friend-btn:hover {
    transform: scale(1.06);
    box-shadow: 0 0 40px rgba(0, 156, 222, 1);
}

/* Checkbox terms / friend */
label {display:block; text-align:center; margin:10px 0;}
label input {margin-right:5px;}

/* Animation fl√®che */
@keyframes bounce {
  0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
  40% { transform: translateY(-5px); }
  60% { transform: translateY(-3px); }
}

#lorenzo-btn:hover {
  transform: scale(1.05);
  box-shadow: 0 0 20px #ff0b0b;
}
</style>
</head>
<body>

<!-- VIDEO BACKGROUND -->
<div class="video-bg">
    <video autoplay muted loop playsinline>
        <source src="video/videocoinsnexum2.mp4" type="video/mp4">
    </video>
</div>

<header>
    <h1>NEXUM BOUTIQUE</h1>
    <p>Vos coins FiveM en un clic</p>
    <p>‚ö†Ô∏èTarif r√©duit!‚ö†Ô∏è </p>
</header>

<main>
    <!-- Container avec tous les packs de coins -->
    <div class="container">
        <div class="card">
            <img src="img/image1.png" alt="1.000 Coins" style="width:100%; max-width:150px; margin-bottom:10px;">
            <h2>1.000 Coins</h2>
            <p>10‚Ç¨</p>
            <button onclick="addToCart('1.000 Coins', 10)">Commander</button>
        </div>
        <div class="card">
            <img src="img/image1.png" alt="1.500 Coins" style="width:100%; max-width:150px; margin-bottom:10px;">
            <h2>1.500 Coins</h2>
            <p>15‚Ç¨</p>
            <button onclick="addToCart('1.500 Coins', 15)">Commander</button>
        </div>
        <div class="card">
            <img src="img/image2.png" alt="2.000 Coins" style="width:100%; max-width:150px; margin-bottom:10px;">
            <h2>2.000 Coins</h2>
            <p>20‚Ç¨</p>
            <button onclick="addToCart('2.000 Coins', 20)">Commander</button>
        </div>
        <div class="card">
            <img src="img/image2.png" alt="3.000 Coins" style="width:100%; max-width:150px; margin-bottom:10px;">
            <h2>3.000 Coins</h2>
            <p>30‚Ç¨</p>
            <button onclick="addToCart('3.000 Coins', 30)">Commander</button>
        </div>
        <div class="card">
            <img src="img/image3.png" alt="4.000 Coins" style="width:100%; max-width:150px; margin-bottom:10px;">
            <h2>4.000 Coins</h2>
            <p>40‚Ç¨</p>
            <button onclick="addToCart('4.000 Coins', 40)">Commander</button>
        </div>
        <div class="card">
            <img src="img/image4.png" alt="6.500 Coins" style="width:100%; max-width:150px; margin-bottom:10px;">
            <h2>6.500 Coins</h2>
            <p>50‚Ç¨</p>
            <button onclick="addToCart('6.500 Coins', 50)">Commander</button>
        </div>
        <div class="card">
            <img src="img/image5.png" alt="9.000 Coins" style="width:100%; max-width:150px; margin-bottom:10px;">
            <h2>9.000 Coins</h2>
            <p>80‚Ç¨</p>
            <button onclick="addToCart('9.000 Coins', 80)">Commander</button>
        </div>
        <div class="card">
            <img src="img/image5.png" alt="12.000 Coins" style="width:100%; max-width:150px; margin-bottom:10px;">
            <h2>12.000 Coins</h2>
            <p>100‚Ç¨</p>
            <button onclick="addToCart('12.000 Coins', 100)">Commander</button>
        </div>
    </div>

    <!-- Panier (le bouton PayPal est maintenant ici) -->
    <div class="cart">
        <h3>Panier</h3>
        <button id="clearCartBtn">Vider le panier</button>
        <ul id="cartItems"></ul>
        <p>Total : <strong><span id="total">0.00</span> ‚Ç¨</strong></p>

                <p style="color:#b3b3b3; font-weight:bold; text-align:center; margin:15px 0;">
            Pour payer moins cher : utilise le bouton PayPal Ami Proche ci-dessous !<br>
            Envoie le montant exact et ton pseudo en message PayPal.
        </p>

        <!-- BOUTON PAYPAL AMI PROCHE -->
        <div class="paypal-container" style="text-align:center; margin: 25px 0;">
            <button id="paypal-friend-btn">
                üí∏ PayPal Ami & Proche<br>
                <span style="font-size:1rem; opacity:0.9;">Clique ici pour payer sans frais</span>
            </button>
        </div>

        <!-- NOUVEAU : Bouton "Je confirme l'achat" + webhook -->
        <div style="text-align:center; margin: 30px 0;">
            <button id="confirm-purchase-btn" style="
                padding: 16px 60px;
                font-size: 1.3rem;
                font-weight: bold;
                background: linear-gradient(90deg, #f70b0b, #ff0b0b);
                color: white;
                border: none;
                border-radius: 12px;
                cursor: pointer;
                box-shadow: 0 0 20px rgba(247, 11, 11, 0.6);
                transition: all 0.3s;
            ">
                JE CONFIRME L'ACHAT
            </button>
            <p id="confirm-status" style="margin-top:10px; color:#b3b3b3; font-size:0.95rem; min-height:1.2em;"></p>
        </div>

        <!-- Checkboxes -->
        <label>
            <input type="checkbox" id="friend-check"> J‚Äôai ajout√© le compte PayPal en ami proche
        </label>
        <label>
            <input type="checkbox" id="terms-check"> J‚Äôai lu et j‚Äôaccepte les <a href="conditions.html" target="_blank">conditions de vente</a>. Les achats sont d√©finitifs et non remboursables.
        </label>
    </div>
   

    <p style="color:#f70b0b; text-align:center; margin-top:15px;">
        ‚ö†Ô∏è Produit num√©rique ‚Äì aucun remboursement possible apr√®s paiement. ‚ö†Ô∏è
    </p>
</main>

<footer style="position:relative;">
  ¬© 2026 NEXUM
  <!-- Container flottant pour bouton + fl√®che -->
  <div style="position: fixed; right: 20px; bottom: 10px; display: flex; align-items: center; gap: 10px; z-index: 9999;">
    <!-- Fl√®che anim√©e + texte -->
    <div style="display: flex; align-items: center; gap: 5px; font-weight: bold; color: #ff0b0b; cursor: pointer; animation: bounce 1.2s infinite;">
      <span>Clique ici</span>
      <span style="font-size:1.2rem;">‚û°Ô∏è</span>
    </div>

    <!-- Bouton Lorenzo -->
    <button id="lorenzo-btn" style="
        padding: 12px 18px;
        font-size: 0.95rem;
        font-weight: bold;
        border: none;
        border-radius: 10px;
        background: linear-gradient(90deg, #ff0b0b, #f70b0b);
        color: white;
        cursor: pointer;
        box-shadow: 0 0 10px #ff0b0b;
        transition: transform 0.2s, box-shadow 0.2s;
    ">
      Cr√©√© par LORENZO CARTER
    </button>
  </div>
</footer>

<script>
// Bouton PayPal Ami Proche (ouvre paypal.me)
document.getElementById("paypal-friend-btn").onclick = () => {
    window.open("https://www.paypal.me/ErwanTerrier", "_blank");
};

// Panier
let cart = [];
let total = 0;

function addToCart(name, price){
    cart.push({name, price});
    total += price;
    renderCart();
}

function renderCart(){
    const list = document.getElementById("cartItems");
    list.innerHTML="";
    cart.forEach(item => {
        const li = document.createElement("li");
        li.innerHTML=`<span>${item.name}</span><span>${item.price.toFixed(2)} ‚Ç¨</span>`;
        list.appendChild(li);
    });
    document.getElementById("total").innerText = total.toFixed(2);
}

document.getElementById("clearCartBtn").onclick = () => {
    cart = [];
    total = 0;
    renderCart();
};
// Bouton "Je confirme l'achat" + envoi webhook Discord
document.getElementById("confirm-purchase-btn").onclick = async () => {
    const btn = document.getElementById("confirm-purchase-btn");
    const status = document.getElementById("confirm-status");

    // D√©j√† cliqu√© ou en cours ?
    if (btn.disabled) return;

    // V√©rifications
    const friendChecked = document.getElementById("friend-check").checked;
    const termsChecked  = document.getElementById("terms-check").checked;

    if (!friendChecked) {
        status.textContent = "Coche la case ¬´ J‚Äôai ajout√© le compte PayPal en ami proche ¬ª";
        status.style.color = "#ff0b0b";
        return;
    }
    if (!termsChecked) {
        status.textContent = "Tu dois accepter les conditions de vente.";
        status.style.color = "#ff0b0b";
        return;
    }
    if (total <= 0) {
        status.textContent = "Ton panier est vide !";
        status.style.color = "#ff0b0b";
        return;
    }

    // Confirmation utilisateur
    if (!confirm(`Le paiement de ${total.toFixed(2)} ‚Ç¨ en Ami Proche √† @Erwanterrier est effectuer?\n\n‚ö†Ô∏è Tout soup√ßon = refus imm√©diat. Doute ? Ticket Discord ou staff d‚Äôabord.\n\nSi OK ‚Üí Merci pour ton achat Nexum ! ‚úåÔ∏è`)) {
        return;
    }

    // D√©sactive le bouton + feedback visuel
    btn.disabled = true;
    btn.style.opacity = "0.6";
    btn.textContent = "Envoi en cours...";
    status.textContent = "Envoi de la commande...";

    // TON WEBHOOK DISCORD ICI (remplace par le vrai)
    const webhookUrl = "https://discord.com/api/webhooks/https://discord.com/api/webhooks/1466439254581444761/2lRZ8o71jve7UTb2BtiAGSz_ti06VhX4bVYx7LueZJPM8GvhyKBrXPRixTDzMm4rVUq3";

    const embed = {
        title: "üõí NOUVELLE COMMANDE CONFIRM√âE !",
        color: 0xff0000,
        fields: [
            { name: "Panier", value: cart.map(i => `‚Ä¢ ${i.name} ‚Äî ${i.price} ‚Ç¨`).join("\n") || "‚Äî", inline: false },
            { name: "Total", value: `${total.toFixed(2)} ‚Ç¨`, inline: true },
            { name: "Paiement", value: "PayPal **Ami Proche** (manuel)", inline: true },
            { name: "Heure", value: new Date().toLocaleString("fr-FR", { timeZone: "Europe/Paris" }), inline: true }
        ],
        footer: { text: "NEXUM Boutique ‚Ä¢ Attente de paiement" },
        timestamp: new Date().toISOString()
    };

    try {
        const response = await fetch(webhookUrl, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ embeds: [embed] })
        });

        if (!response.ok) throw new Error("Webhook failed");

        status.textContent = "Commande envoy√©e ! Merci, attends la validation.";
        status.style.color = "#00ff00";
        btn.textContent = "Envoy√© ‚úì";

        // Optionnel : vider le panier apr√®s envoi
        // cart = []; total = 0; renderCart();

    } catch (err) {
        console.error(err);
        status.textContent = "Erreur lors de l'envoi... R√©essaie ou contacte-nous.";
        status.style.color = "#ff0b0b";
        btn.disabled = false;
        btn.style.opacity = "1";
        btn.textContent = "JE CONFIRME L'ACHAT";
    }
};

// Bouton Lorenzo
document.getElementById("lorenzo-btn").onclick = () => {
    window.open("https://suulitoo.github.io/mes-liens-social-clean/", "_blank");
};
</script>

</body>
</html>